<h2 ng-show="vm.facility">{{ vm.key('title') | message: {'facility': vm.facility.name} }}</h2>

<section class="openlmis-table-container">
    <table>
        <caption ng-if="!vm.programs.length">{{vm.key('noProgramAvailable') | message}}
        </caption>
        <thead>
            <tr>
                <th>{{vm.key('program') | message}}</th>
                <th>{{vm.key('status') | message}}</th>
                <th>{{vm.key('action') | message}}</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="program in vm.programs" ng-init="draft = vm.getDraft(program)">
                <td>{{program.name}}</td>
                <td ng-if-start="draft">{{vm.getDraftStatus(draft.isStarter)}}</td>
                <td ng-if-end>
                    <input
                        ng-if="draft.isStarter"
                        id="proceedButton"
                        type="button"
                        value="{{(vm.key('start')) | message}}"
                        class="primary"
                    />
                    <input
                        ng-if="!draft.isStarter"
                        id="proceedButton"
                        type="button"
                        value="{{(vm.key('continue')) | message}}"
                        class="primary"
                    />
                </td>
                <td ng-if-start="!draft">{{vm.getDraftStatus(true)}}</td>
                <td ng-if-end>
                    <input
                        id="proceedButton"
                        type="button"
                        value="{{vm.key('start') | message}}"
                        class="primary"
                    />
                </td>
            </tr>
        </tbody>
    </table>
</section>
