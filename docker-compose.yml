version: "2"
services:
  stockmanagement-ui:
    image: siglusdevops/dev-ui
    user: "${UID}"
    working_dir: /app
    volumes:
      - '.:/app'
    ports:
      - "9000:9000"
      - "9876:9876"
    env_file: .env
    volumes_from:
      - auth-ui
      - referencedata-ui
      - ui-components
      - ui-layout
    depends_on:
      - auth-ui
      - referencedata-ui
      - ui-components
      - ui-layout
  auth-ui:
    image: siglusdevops/auth-ui
    volumes:
      - '/openlmis-auth-ui'
  referencedata-ui:
    image: siglusdevops/referencedata-ui
    volumes:
      - '/openlmis-referencedata-ui'
  ui-components:
    image: siglusdevops/ui-components
    volumes:
      - '/openlmis-ui-components'
  ui-layout:
    image: siglusdevops/ui-layout
    volumes:
      - '/openlmis-ui-layout'
  image:
    build: .
    image: siglusdevops/stockmanagement-ui
